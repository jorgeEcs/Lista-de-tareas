(this["webpackJsonpeth-todo-lis-react"]=this["webpackJsonpeth-todo-lis-react"]||[]).push([[0],{195:function(e,t,n){e.exports=n(476)},200:function(e,t,n){},214:function(e,t){},223:function(e,t){},241:function(e,t){},243:function(e,t){},260:function(e,t){},261:function(e,t){},263:function(e,t){},264:function(e,t){},340:function(e,t){},342:function(e,t){},351:function(e,t){},353:function(e,t){},378:function(e,t){},380:function(e,t){},386:function(e,t){},387:function(e,t){},389:function(e,t){},401:function(e,t){},404:function(e,t){},409:function(e,t){},420:function(e,t){},423:function(e,t){},475:function(e,t,n){},476:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n.n(a),o=n(193),r=n.n(o),i=(n(200),n(201),n(17)),s=n.n(i),u=n(64),l=n(29),m=n(101),p=n.n(m),d=[{name:"tasks",type:"function",inputs:[{name:"",type:"uint256"}],outputs:[{name:"id",type:"uint256"},{name:"content",type:"string"},{name:"completed",type:"bool"}],payable:!1,constant:!0,stateMutability:"view"},{name:"taskCount",type:"function",inputs:[],outputs:[{name:"",type:"uint256"}],payable:!1,constant:!0,stateMutability:"view"},{type:"constructor",inputs:[],payable:!1,stateMutability:"nonpayable"},{name:"TaskCreated",type:"event",inputs:[{name:"id",type:"uint256",indexed:!1},{name:"content",type:"string",indexed:!1},{name:"completed",type:"bool",indexed:!1}],anonymous:!1},{name:"TaskCompleted",type:"event",inputs:[{name:"id",type:"uint256",indexed:!1},{name:"completed",type:"bool",indexed:!1}],anonymous:!1},{name:"createTask",type:"function",inputs:[{name:"_content",type:"string"}],outputs:[],payable:!1,constant:!1,stateMutability:"nonpayable"},{name:"toggleCompleted",type:"function",inputs:[{name:"_id",type:"uint256"}],outputs:[],payable:!1,constant:!1,stateMutability:"nonpayable"}];n(475);var f=function(e){var t=e.tasks,n=e.createTask,o=e.completed,r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],u=i[1];return c.a.createElement("div",{id:"content"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(s)}},c.a.createElement("input",{id:"newTask",type:"text",className:"form-control",placeholder:"Nueva tarea...",required:!0,onChange:function(e){u(e.target.value)}}),c.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-3",hidden:"",value:"Agregar tarea"})),c.a.createElement("ul",{id:"taskList",className:"list-unstyled"},t.map((function(e){return c.a.createElement("div",{className:"taskTemplate",key:e.id},c.a.createElement("label",{htmlFor:""},c.a.createElement("input",{type:"checkbox",defaultChecked:e.completed,onChange:function(){return t=e.id,console.log(t),void o(t);var t},name:"",id:""}),c.a.createElement("span",{className:"ml-3 content"},e.content)))}))),c.a.createElement("ul",{id:"completedTaskList",className:"list-unstyled"}))};var b=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(0),i=Object(l.a)(r,2),m=(i[0],i[1]),b=Object(a.useState)([]),y=Object(l.a)(b,2),v=y[0],h=y[1],k=Object(a.useState)(!0),E=Object(l.a)(k,2),x=E[0],w=E[1],g=Object(a.useState)({}),N=Object(l.a)(g,2),j=N[0],O=N[1];function C(){return(C=Object(u.a)(s.a.mark((function e(){var t,n,a,c,r,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=26;break}return t=[],n=new p.a(p.a.givenProvider||"http://127.0.0.1:7645"),e.next=5,n.eth.getAccounts();case 5:return a=e.sent,o(a[0]),c=new n.eth.Contract(d,"0xeE3131e6BBF9c59c440874152106d94642Ad077d"),O(c),e.next=11,c.methods.taskCount().call();case 11:r=e.sent,m(r),i=1;case 14:if(!(i<=r)){e.next=22;break}return e.next=17,c.methods.tasks(i).call();case 17:u=e.sent,t.push(u);case 19:i++,e.next=14;break;case 22:h(t),w(!1),e.next=27;break;case 26:window.alert("No tienes instalado Metamask");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,j.methods.createTask(t).send({from:n}).on("receipt",(function(e){w(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,j.methods.toggleCompleted(t).send({from:n}).on("receipt",(function(e){w(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"Container"},c.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},c.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"#"},"Todo List"),c.a.createElement("ul",{className:"navbar-nav px-3"},c.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},c.a.createElement("small",null,c.a.createElement("a",{className:"nav-link",href:"#"},c.a.createElement("span",{id:"account"})))))),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("main",{role:"main",className:"col-lg-12 d-flex justify-content-center"},x?c.a.createElement("div",{id:"loader",className:"text-center"},c.a.createElement("p",{className:"text-center"},"Loading...")):c.a.createElement(f,{tasks:v,createTask:T,completed:S})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.7e469e10.chunk.js.map